"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1344],{55337:function(e,t,a){a.d(t,{o:function(){return i}});var r=a(85893);a(67294);var n=a(25617),s=a(69553),l=a(52374),d=a(33763),o=a(8547),i=function(e){var t,a,i=e.closeModalHandler,c=e.onAgreeHandler,u=(0,s.$G)().t,E=(0,n.v9)(o.dv),p=(0,n.v9)(o.TK),f=(0,n.v9)(o.X2),_="black ".concat(f?"text-right":"text-left");return(0,r.jsx)(l.F,{"data-testid":"existing-cart-items-component",children:(0,r.jsx)(d.Z,{show:!0,centered:!0,onHide:i,dialogClassName:"alert-model",children:(0,r.jsxs)("div",{className:"px-6 pb-6 pt-3",children:[(0,r.jsxs)("div",{className:"f-14 f-500",children:[(0,r.jsxs)("p",{children:[(0,r.jsxs)("span",{className:_,children:[u("common:existingCartDetailsP1.translation")," "]}),(0,r.jsxs)("span",{"data-testid":"restaurant-name",className:"color-primary",children:[(null==E?void 0:null===(t=E.restaurant)||void 0===t?void 0:t.name)||(null==p?void 0:null===(a=p.branchInfo)||void 0===a?void 0:a.restaurant.vendorName)," "]}),(0,r.jsx)("span",{className:_,children:u("common:existingCartDetailsP2.translation")})]}),(0,r.jsx)("p",{className:_,children:u("common:existingCartDetailsAskingToEmpty.translation")})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("button",{"data-testid":"btn-yes",onClick:c,className:"btn btn-secondary py-1 px-6 text-uppercase",children:u("common:yes.translation")}),(0,r.jsx)("button",{"data-testid":"btn-no",onClick:i,className:"btn btn-secondary-outline py-1 px-6 text-uppercase ml-3",children:u("common:no.translation")})]})]})})})}},24755:function(e,t,a){a.d(t,{P:function(){return h}});var r=a(47568),n=a(26042),s=a(20414),l=a(85893),d=a(67294),o=a(40306),i=a(41190),c=a(69553),u=a(69396),E={GET_ORDER_DETAILS_START:"GET_ORDER_DETAILS_START",GET_ORDER_DETAILS_END:"GET_ORDER_DETAILS_END",GET_ORDER_DETAILS_DATA:"GET_ORDER_DETAILS_DATA",CLEAR_ORDER_DETAILS:"CLEAR_ORDER_DETAILS"},p={orderDetails:null,isLoading:!0},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.GET_ORDER_DETAILS_DATA:return(0,u.Z)((0,n.Z)({},e),{orderDetails:t.payload,isLoading:!1});case E.GET_ORDER_DETAILS_START:return(0,u.Z)((0,n.Z)({},e),{isLoading:!0});case E.GET_ORDER_DETAILS_END:return(0,u.Z)((0,n.Z)({},e),{isLoading:!1});case E.CLEAR_ORDER_DETAILS:return(0,u.Z)((0,n.Z)({},e),{orderDetails:null});default:return e}},_=a(67550),m=a(55870),h=function(e){var t,a=e.isOrderDetailsOpen,u=e.closeHandler,h=e.orderId,v=(0,d.useReducer)(f,p),R=v[0],A=v[1],T=(0,c.$G)().t,D=(t=(0,r.Z)(function(){var e,t;return(0,s.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,i.Z.getOrderDetails(h)];case 1:return e=a.sent(),A({type:E.GET_ORDER_DETAILS_DATA,payload:(0,n.Z)({},e)}),[3,3];case 2:return t=a.sent(),A({type:E.GET_ORDER_DETAILS_END}),(0,_.L)(window,t),[3,3];case 3:return[2]}})}),function(){return t.apply(this,arguments)});return((0,d.useEffect)(function(){h&&(A({type:E.GET_ORDER_DETAILS_START}),D())},[h]),null!==R.orderDetails||R.isLoading)?(0,l.jsx)(o.V,{"data-test":"component-order-details","data-testid":"component-order-details",show:a,handleClose:function(){A({type:E.CLEAR_ORDER_DETAILS}),u()},showHeader:!0,headerText:T("myAccount:orderDetailsSummary.translation"),modalClassName:"modal-lg order-info-model",children:R.isLoading?(0,l.jsx)("div",{className:"py-8",children:(0,l.jsx)("div",{"data-test":"loading",className:"d-flex d-flex justify-content-center align-items-center py-10 my-10",children:(0,l.jsx)("img",{src:"/assets/images/loader.svg",height:"40",alt:"loading"})})}):(0,l.jsx)(m.k,{orderDetails:R.orderDetails})}):null}},89015:function(e,t,a){a.d(t,{Ar:function(){return P},Nw:function(){return M},E3:function(){return F},I6:function(){return k}});var r,n,s,l=a(85893),d=a(67294),o=a(25617),i=a(69553),c=a(33763),u=a(52374),E=a(21885),p=a(77407),f=a(59253),_=a(47568),m=a(20414),h=a(33213),v=a(41190),R=a(69323),A=a(65885),T=a(11041),D=a(12040),y=(r=(0,_.Z)(function(e){var t,a,r,n,s,l,d,o,i,c,u,E,p,f,_;return(0,m.__generator)(this,function(m){switch(m.label){case 0:t=e.setIsReorderInProgress,a=e.dispatchToast,r=e.dispatchGlobal,n=e.translate,s=e.currentCountry,l=e.prefixURL,d=e.orderID,o=e.state.selected.data.lat,i=e.state.selected.data.lng,c=e.state.selected.isAddress?e.state.selected.data.areaId:e.state.selected.data.id,u=new A.default,t(!0),E={orderId:d,areaId:c,countryId:s.id,latitude:o,longitude:i},m.label=1;case 1:return m.trys.push([1,6,7,8]),[4,v.Z.getReorderDetails(E)];case 2:if(!((p=m.sent()).branchId&&p.items.length))return[3,4];return[4,h.Z.createNewReorderCart(p,o,i,u)];case 3:return _=(f=m.sent()).cart.id,r({type:R.N.UPDATE_NEW_CART,payload:f}),(0,D.oT)(_),g(l,f,p.hasChange),[3,5];case 4:a({message:n("common:generalError.translation"),type:"danger"}),m.label=5;case 5:return[3,8];case 6:return m.sent(),a({message:n("common:generalError.translation"),type:"danger"}),[3,8];case 7:return t(!1),[7];case 8:return[2]}})}),function(e){return r.apply(this,arguments)}),g=(n=(0,_.Z)(function(e,t){var a,r,n,s,l=arguments;return(0,m.__generator)(this,function(d){return a=l.length>2&&void 0!==l[2]?l[2]:null,r=T.N.Router,n=t.branchInfo.restaurant.branchId,s=t.branchInfo.restaurant.branchSlug,r.pushRoute("".concat(e,"/restaurant/").concat(n,"/").concat(s,"?aid=").concat(t.cart.areaId).concat(a?"&cu=1":"")),[2]})}),function(e,t){return n.apply(this,arguments)}),S=a(8547),x=a(26042),I=a(69396),L=a(29815),N=a(41043),Z=a(91904),b=a(71850),G=function(e,t,a){var r=+e.currentTarget.value;if(r>0){var n=a.areas[r];n.isAddress&&(n=j(n,a)),t({type:M.SET_SELECTED_AREAS,payload:n})}else t({type:M.SET_SELECTED_AREAS,payload:null})},O=(s=(0,_.Z)(function(e,t,a,r,n){var s,l,d,o,i;return(0,m.__generator)(this,function(l){switch(l.label){case 0:return s={restaurantId:e,countryId:t,longitude:"",latitude:"",branchId:0},[4,Promise.all([Z.Z.getSavedAddress(s),Z.Z.orderSavedAddresses(a)])];case 1:return(d=l.sent())[0]=d[0].filter(function(e){return e.eligibleForDelivery}),o=d[0].map(function(e){return{id:e.areaId,name:"".concat(e.areaName," (").concat(e.title,")"),isAddress:!0,data:e}}),i=d[1].areas.map(function(e){return{id:e.id,name:e.name,isAddress:!1,data:e}}),r({type:M.SET_DROPDOWN_DATA,payload:[{id:null,name:n("myAccount:reOrderSelectYourArea.translation")}].concat((0,L.Z)(o),(0,L.Z)(i))}),[2]}})}),function(e,t,a,r,n){return s.apply(this,arguments)}),C=function(e,t,a){e.state.selected&&w(e,a,t)},j=function(e,t){var a=t.areas.find(function(t){if((null==t?void 0:t.data)&&!(null==t?void 0:t.isAddress)){var a;return(null==t?void 0:null===(a=t.data)||void 0===a?void 0:a.id)===e.data.areaId}return!1});return a?(0,I.Z)((0,x.Z)({},e),{data:(0,I.Z)((0,x.Z)({},e.data),{requiredGRL:a.data.requiredGRL})}):e},w=function(e,t,a){if(e.state.selected.isAddress){if((0,D.UG)(),(0,D.$B)(e.state.selected.data.encryptedAddressId),e.state.selected.data.lat)sessionStorage.removeItem(N.v8),b.Z.setCookieArea(!1,(0,I.Z)((0,x.Z)({},e.state.selected.data),{areaName:e.state.selected.name})),y(e);else{var r,n,s;t(null===(n=null===(r=e.state.areas)||void 0===r?void 0:r.find(function(t){var a,r=t.data;return(null==r?void 0:r.id)===(null===(a=e.state.selected)||void 0===a?void 0:a.data.areaId)}))||void 0===n?void 0:null===(s=n.data)||void 0===s?void 0:s.polygonCenter),a({type:M.SET_SELECTED_AREAS,payload:(0,I.Z)((0,x.Z)({},e.state.selected),{data:(0,x.Z)({},e.state.selected.data)})}),a({type:M.TOGGLE_MAP_FIRST})}}else a({type:M.TOGGLE_MAP_FIRST})},P=function(e){var t,a,r,n,s=e.closeHandler,_=e.orderID,m=e.restaurantId,h=(0,d.useReducer)(k,F),v=h[0],R=h[1],A=(0,i.$G)().t,T=(0,d.useState)(null),D=T[0],g=T[1],x=(0,d.useState)(!1),I=x[0],L=x[1],N=(0,o.v9)(S.Oe),Z=(0,o.v9)(S.lt),b=(0,o.v9)(S.SV),j=(0,o.I0)(),w=(0,E.e)().dispatchToast,P=function(){return(0,l.jsx)("div",{children:(0,l.jsx)(f.$,{})})};return(0,d.useEffect)(function(){O(m,Z.id,_,R,A)},[]),(0,l.jsxs)(l.Fragment,{children:[I?P():"",v.showMapFirst?(0,l.jsx)(p.hg,{address:null===(t=v.selected)||void 0===t?void 0:t.data,defaultLatLngForMap:D,title:(null===(a=v.selected)||void 0===a?void 0:a.isAddress)&&(null===(r=v.selected)||void 0===r?void 0:r.name),restaurantId:m,areaName:v.selected.isAddress?"":v.selected.name,confirmationSelectionHandler:function(){y({setIsReorderInProgress:L,dispatchToast:w,dispatchGlobal:j,translate:A,currentCountry:Z,state:v,prefixURL:N,orderID:_,baseUrl:b})},handleClose:function(){R({type:M.TOGGLE_MAP_FIRST}),R({type:M.SET_SELECTED_AREAS,payload:null})}}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(u.F,{children:v.showMapFirst||(null===(n=v.areas)||void 0===n?void 0:n.length)?(0,l.jsxs)(c.Z,{show:!0,onHide:s,dialogClassName:"alert-model modal-small modal-dialog-centered",children:[(0,l.jsxs)(c.Z.Header,{className:"bg-white py-2 px-3",children:[(0,l.jsx)("div",{className:"py-3 f-26 f-400 text-dark","data-test":"select-address-header",children:A("myAccount:reOrderSelectDeliveryAddress.translation")}),(0,l.jsx)("span",{className:"clickable close-span black",children:(0,l.jsx)("img",{onClick:s,src:"/assets/images/icon_close.svg",alt:"Alert Close Button Image"})})]}),(0,l.jsx)(c.Z.Body,{className:"px-6 pb-5 pt-0",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mb-6 mt-5",children:(0,l.jsx)("select",{onChange:function(e){return G(e,R,v)},className:"form-control",children:v.areas.map(function(e,t){return(0,l.jsx)("option",{value:t,children:e.name},t)})})}),(0,l.jsx)("button",{onClick:function(){return C({setIsReorderInProgress:L,dispatchToast:w,dispatchGlobal:j,translate:A,currentCountry:Z,state:v,prefixURL:N,orderID:_,baseUrl:b},R,g)},"data-test":"show-menu",className:"f-14 f-400 btn btn-secondary btn-block py-1 px-2 text-uppercase",children:A("myAccount:reOrderShowMenu.translation")})]})})]}):P()})})]})},M={CLEAR_ORDER_DETAILS:"CLEAR_ORDER_DETAILS",SET_DROPDOWN_DATA:"SET_DROPDOWN_DATA",SET_SELECTED_AREAS:"SET_SELECTED_AREAS",SET_REQUIRED_GRL:"SET_REQUIRED_GRL",TOGGLE_MAP_FIRST:"TOGGLE_MAP_FIRST",SHOW_GRL_MAP:"SHOW_GRL_MAP"},F={areas:[],selected:null,showMapFirst:!1,showGRLMap:!1},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M.SET_DROPDOWN_DATA:return(0,I.Z)((0,x.Z)({},e),{areas:t.payload});case M.SET_SELECTED_AREAS:case M.SET_REQUIRED_GRL:return(0,I.Z)((0,x.Z)({},e),{selected:t.payload});case M.TOGGLE_MAP_FIRST:return(0,I.Z)((0,x.Z)({},e),{showMapFirst:!e.showMapFirst});case M.SHOW_GRL_MAP:return(0,I.Z)((0,x.Z)({},e),{showGRLMap:!e.showGRLMap});default:return e}}},21885:function(e,t,a){a.d(t,{e:function(){return s}});var r=a(25617),n=a(8547);function s(){var e=(0,r.I0)();return{dispatchToast:function(t){var a=t.title,r=t.message,s=t.type;e({type:n.Nw.ADD_TOAST,payload:{msg:r,title:void 0===a?"":a,type:void 0===s?"info":s}})}}}},31555:function(e,t,a){var r=a(87462),n=a(63366),s=a(94184),l=a.n(s),d=a(67294),o=a(76792),i=["bsPrefix","className","as"],c=["xl","lg","md","sm","xs"],u=d.forwardRef(function(e,t){var a=e.bsPrefix,s=e.className,u=e.as,E=(0,n.Z)(e,i),p=(0,o.vE)(a,"col"),f=[],_=[];return c.forEach(function(e){var t,a,r,n=E[e];if(delete E[e],"object"==typeof n&&null!=n){var s=n.span;t=void 0===s||s,a=n.offset,r=n.order}else t=n;var l="xs"!==e?"-"+e:"";t&&f.push(!0===t?""+p+l:""+p+l+"-"+t),null!=r&&_.push("order"+l+"-"+r),null!=a&&_.push("offset"+l+"-"+a)}),f.length||f.push(p),d.createElement(void 0===u?"div":u,(0,r.Z)({},E,{ref:t,className:l().apply(void 0,[s].concat(f,_))}))});u.displayName="Col",t.Z=u},34051:function(e,t,a){var r=a(87462),n=a(63366),s=a(94184),l=a.n(s),d=a(67294),o=a(76792),i=["bsPrefix","className","noGutters","as"],c=["xl","lg","md","sm","xs"],u=d.forwardRef(function(e,t){var a=e.bsPrefix,s=e.className,u=e.noGutters,E=e.as,p=(0,n.Z)(e,i),f=(0,o.vE)(a,"row"),_=f+"-cols",m=[];return c.forEach(function(e){var t,a=p[e];delete p[e],null!=(t=null!=a&&"object"==typeof a?a.cols:a)&&m.push(""+_+("xs"!==e?"-"+e:"")+"-"+t)}),d.createElement(void 0===E?"div":E,(0,r.Z)({ref:t},p,{className:l().apply(void 0,[s,f,u&&"no-gutters"].concat(m))}))});u.displayName="Row",u.defaultProps={noGutters:!1},t.Z=u}}]);