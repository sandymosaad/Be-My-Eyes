"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7558],{55870:function(e,s,a){a.d(s,{k:function(){return v}});var r,t,n=a(85893);a(67294),(t=r||(r={}))[t.DiscountOnOrderAmount=1]="DiscountOnOrderAmount",t[t.DiscountOnDeliveryCharges=2]="DiscountOnDeliveryCharges",t[t.RateOrderDiscountVoucher=3]="RateOrderDiscountVoucher";var l=a(46275),d=a(69553),i=a(7297),c=a(18334),o=a(87379);function u(){var e=(0,i.Z)(["\n  .wordbreak {\n    word-break: break-all;\n    word-break: break-word;\n  }\n\n  .summary-totals {\n    margin-inline-start: 25%;\n    @media "," {\n      margin-inline-start: 0;\n    }\n  }\n"]);return u=function(){return e},e}var m=o.ZP.div.withConfig({componentId:"sc-23a16fdc-0"})(u(),c.Uh.mobile),h=a(25617),x=a(8547),j=a(41043);function p(){var e=(0,i.Z)(["\n  table tr {\n    background-color: "," !important;\n  }\n"]);return p=function(){return e},e}var b=o.ZP.div.withConfig({componentId:"sc-fddba91c-0"})(p(),c.eB.tableRow),y=function(e){var s=e.orderDetails,a=e.showBorders,r=(0,d.$G)().t;return(0,n.jsx)(b,{children:(0,n.jsx)("div",{className:"table-order-items",children:(0,n.jsx)("table",{className:"table ".concat(void 0===a||a?"border table-condensed":""," table-hover table-striped mt-4"),children:(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"pa-1",children:r("myAccount:orderDetailsItems.translation")}),(0,n.jsx)("th",{className:"text-center pa-1",children:r("myAccount:orderDetailsSpecialRequest.translation")}),(0,n.jsx)("th",{className:"text-center pa-1",children:r("myAccount:orderDetailsQty.translation")}),(0,n.jsx)("th",{className:"text-center pa-1",children:r("myAccount:orderDetailsPrice.translation")}),(0,n.jsx)("th",{className:"text-center pa-1",children:r("myAccount:orderDetailsTotal.translation")})]}),s.items.map(function(e){return(0,n.jsxs)("tr",{children:[(0,n.jsxs)("td",{className:"align-middle pa-1",style:{maxWidth:"250px"},children:[(0,n.jsx)("p",{className:"mb-0",children:(0,n.jsx)("b",{className:"muted f-500",children:e.title})}),(0,n.jsx)("p",{className:"muted mb-0",children:e.itemChoices})]}),(0,n.jsx)("td",{className:"text-center align-middle pa-1",children:(0,n.jsx)("p",{className:"mb-0",children:e.specialRequest})}),(0,n.jsx)("td",{className:"text-center align-middle pa-1",children:e.quantity}),(0,n.jsx)("td",{className:"text-center align-middle pa-1",children:"Free Item"==e.specialRequest?(0,n.jsxs)("span",{children:[r("myAccount:orderDetailsFree.translation"),(0,n.jsx)("br",{}),e.price>0&&(0,n.jsxs)("span",{children:["("," ",(0,n.jsx)(l.$,{value:e.price,displayCurrency:!0})," ",")"]})]}):(0,n.jsx)(l.$,{value:e.price,displayCurrency:!0})}),(0,n.jsx)("td",{className:"text-center align-middle pa-1",children:"Free Item"==e.specialRequest?(0,n.jsxs)("span",{children:[r("myAccount:orderDetailsFree.translation"),(0,n.jsx)("br",{}),e.total>0&&(0,n.jsxs)("span",{children:["("," ",(0,n.jsx)(l.$,{value:e.total,displayCurrency:!0})," ",")"]})]}):(0,n.jsx)(l.$,{value:e.total,displayCurrency:!0})})]},e.id)})]})})})})},f=a(34051),N=a(31555),v=function(e){var s,a,t=e.orderDetails,i=e.showBorders,c=(0,h.v9)(x.ts),o=(0,h.v9)(x.X2),u=(0,h.v9)(x.lt),p=(0,d.$G)().t;return(0,n.jsx)(m,{"data-testid":"order-details",children:(0,n.jsxs)("div",{className:"panel-body panel",children:[(0,n.jsxs)(f.Z,{className:"f-12",children:[(0,n.jsxs)(N.Z,{xs:16,md:8,lg:8,className:"form-horizontal",children:[(0,n.jsxs)(f.Z,{className:"form-group mb-0",children:[(0,n.jsx)(N.Z,{lg:7,xs:7,children:(0,n.jsx)("label",{className:"muted",children:p("myAccount:orderDetailsOrderNumber.translation")})}),(0,n.jsx)(N.Z,{lg:9,xs:9,className:"muted f-13",children:(0,n.jsx)("b",{className:"f-500","data-testid":"order-number",children:t.orderNumber})})]}),(0,n.jsxs)(f.Z,{className:"form-group mb-0 ",children:[(0,n.jsx)(N.Z,{xs:7,lg:7,children:(0,n.jsx)("label",{className:"muted",children:p("myAccount:orderDetailsRestaurant.translation")})}),(0,n.jsx)(N.Z,{xs:9,lg:9,className:"muted f-13",children:(0,n.jsx)("b",{className:"f-500","data-testid":"restaurant-name",children:t.restaurant})})]}),(0,n.jsxs)(f.Z,{className:"form-group mb-0 ",children:[(0,n.jsx)(N.Z,{xs:7,lg:7,children:(0,n.jsx)("label",{className:"muted",children:p("myAccount:orderDetailsTransactionTime.translation")})}),(0,n.jsx)(N.Z,{xs:9,lg:9,className:"muted f-13",children:(0,n.jsx)("b",{className:"f-500","data-testid":"transaction-time",children:t.transactionTime})})]}),(0,n.jsxs)(f.Z,{className:"form-group mb-0 m-b-0",children:[(0,n.jsx)(N.Z,{xs:7,lg:7,children:(0,n.jsx)("label",{className:"muted",children:p("myAccount:orderDetailsPaymentMethod.translation")})}),(0,n.jsx)(N.Z,{xs:9,lg:9,className:"muted f-13",children:(0,n.jsx)("b",{className:"f-500","data-testid":"payment-method",children:t.paymentMethod})})]})]}),(0,n.jsxs)(N.Z,{xs:16,md:8,lg:8,className:"form-horizontal wordbreak f-13",children:[!c&&(0,n.jsxs)("p",{className:"m-b-5","data-testid":"address",children:[(0,n.jsx)("b",{children:p("myAccount:orderDetailsFirstName.translation")}),(0,n.jsx)("span",{children:null===(s=t.address)||void 0===s?void 0:s.firstName}),(0,n.jsx)("b",{children:p("myAccount:orderDetailsLastName.translation")}),(0,n.jsx)("span",{children:null===(a=t.address)||void 0===a?void 0:a.lastName})]}),(0,n.jsxs)("p",{className:"mb-1",children:[(0,n.jsxs)("b",{className:"muted f-500",children:[p("myAccount:orderDetailsAddress.translation")," "]}),(0,n.jsxs)("span",{"data-test":"area-name",children:[t.address.areaName,","," "]}),t.address.block&&j.zO[u.slug].displayAddressBlock&&(0,n.jsxs)("span",{className:"black","data-testid":"block",children:[t.address.block,(0,n.jsx)("span",{children:","})]}),(0,n.jsxs)("span",{children:[t.address.street,j.zO[u.slug].displayAddressStreet||!t.address.avenue?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"black",children:","}),(0,n.jsxs)("span",{className:"black","data-testid":"avenue",children:[t.address.avenue,t.address.building?(0,n.jsx)("span",{children:","}):null]})]}),"\xa0"]}),t.address.building&&(0,n.jsxs)("span",{className:"black","data-testid":"building",children:[t.address.building,0!=t.address.addressType&&t.address.floor&&(0,n.jsx)("span",{children:", "})]}),0!=t.address.addressType&&t.address.floor&&(0,n.jsx)("span",{"data-test":"floor",children:t.address.floor})]}),t.address.additionalDirection&&(0,n.jsxs)("p",{className:"mb-1","data-testid":"additional-direction",children:[(0,n.jsxs)("b",{className:"muted f-500",children:[p("myAccount:orderDetailsAdditionalDirections.translation")," "]}),t.address.additionalDirection]}),(0,n.jsxs)("p",{children:[(0,n.jsxs)("span",{children:[(0,n.jsxs)("b",{className:"muted f-500",children:[p("myAccount:orderDetailsMobile.translation")," "]}),(0,n.jsxs)("span",{"data-testid":"mobile-number",children:[t.address.countryCode&&"0"!=t.address.countryCode&&(0,n.jsxs)("span",{className:"no-rtl",children:[!o&&(0,n.jsx)("span",{children:"+"}),t.address.countryCode]}),t.address.mobile,o&&(0,n.jsx)("span",{children:"+"}),t.address.phoneNumber&&(0,n.jsx)("span",{children:", "})]})]}),t.address.phoneNumber&&(0,n.jsxs)("span",{"data-testid":"land-line",children:[(0,n.jsx)("b",{children:p("myAccount:orderDetailsLandlineNumber.translation")}),(0,n.jsx)("span",{children:t.address.phoneNumber})]})]})]})]}),(0,n.jsx)("div",{className:"table-order-items",children:(0,n.jsx)(y,{showBorders:void 0===i||i,orderDetails:t})}),(0,n.jsxs)(f.Z,{children:[(0,n.jsx)(N.Z,{xs:6,className:"b-b-m",children:(0,n.jsxs)("div",{className:"mt-2",children:[t.note&&(0,n.jsx)("p",{className:"f-500",children:p("myAccount:orderDetailsNote.translation")}),(0,n.jsx)("p",{"data-test":"note",children:t.note})]})}),(0,n.jsx)(N.Z,{xs:16,md:6,className:"summary-totals",children:(0,n.jsx)("table",{className:"table table-condensed m-t h5 m-b-0 f-14 totals mt-2",children:(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"align-middle border-0 pa-1",children:p("myAccount:orderDetailsSubTotal.translation")}),(0,n.jsx)("td",{className:"align-middle border-0 pa-1 d-flex justify-content-between",children:(0,n.jsx)(l.$,{value:+t.subtotal,displayCurrency:!0})})]}),!!t.deliveryCharge&&(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"align-middle border-0 pa-1",children:(0,n.jsx)("span",{"data-testid":"delivery-charge-text",children:t.alternativeDeliveryChargeTxt?t.alternativeDeliveryChargeTxt:p("myAccount:orderDetailsDeliveryCharges.translation")})}),(0,n.jsx)("td",{className:"align-middle border-0 pa-1 d-flex justify-content-between",children:(0,n.jsx)(l.$,{displayCurrency:!0,value:+t.deliveryCharge})})]}),!!t.serviceFee&&(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"align-middle border-0 pa-1",children:(0,n.jsx)("span",{"data-testid":"service-fee",children:p("common:orderDetailsServiceFee.translation")})}),(0,n.jsx)("td",{className:"align-middle border-0 pa-1 d-flex justify-content-between",children:(0,n.jsx)(l.$,{displayCurrency:!0,value:t.serviceFee})})]}),!!t.chargesForTalabat&&(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"align-middle border-0 pa-1",children:(0,n.jsx)("span",{"data-testid":"talabat-charges-text",children:t.alternativeTalabatChargeTxt?t.alternativeTalabatChargeTxt:p("myAccount:orderDetailsTalabatCharges.translation")})}),(0,n.jsx)("td",{className:"align-middle border-0 pa-1 d-flex justify-content-between",children:(0,n.jsx)(l.$,{displayCurrency:!0,value:t.chargesForTalabat})})]}),!!t.municipalityTax&&(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"align-middle border-0 pa-1",children:(0,n.jsx)("span",{"data-testid":"municipality-tax-text",children:t.alternativeMunicipalityTaxTxt?t.alternativeMunicipalityTaxTxt:p("common:orderDetailsMunicipalityCharges.translation")})}),(0,n.jsx)("td",{className:"align-middle border-0 pa-1 d-flex justify-content-between",children:(0,n.jsx)(l.$,{value:t.municipalityTax,displayCurrency:!0})})]}),!!t.touristTax&&(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"align-middle border-0 pa-1",children:(0,n.jsx)("span",{"data-testid":"tourist-tax-text",children:t.alternativeTouristTaxTxt?t.alternativeTouristTaxTxt:p("common:orderDetailsTouristCharges.translation")})}),(0,n.jsx)("td",{className:"align-middle border-0 pa-1 d-flex justify-content-between",children:(0,n.jsx)(l.$,{value:t.touristTax,displayCurrency:!0})})]}),!!t.couponDiscount&&(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"align-middle border-0 pa-1",children:(0,n.jsx)("span",{className:"red-text",children:p("common:orderDetailsCouponDiscount.translation")})}),(0,n.jsx)("td",{className:"align-middle border-0 pa-1 d-flex justify-content-between",children:(0,n.jsx)(l.$,{displayCurrency:!0,value:t.couponDiscount})})]}),!!t.voucherDiscount&&(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"align-middle border-0 pa-1",on:"order.vt",children:(0,n.jsx)("span",{className:"red-text",children:p(t.voucherType==r.DiscountOnDeliveryCharges?"myAccount:orderDetailsFreeDeliveryVoucher.translation":"myAccount:orderDetailsVoucherDiscount.translation")})}),(0,n.jsx)("td",{className:"align-middle border-0 pa-1 d-flex justify-content-between",children:(0,n.jsx)(l.$,{displayCurrency:!0,value:t.voucherDiscount})})]}),(0,n.jsxs)("tr",{className:"h4 f-17-m",children:[(0,n.jsx)("td",{className:"align-middle f-18 f-500 muted border-0 pa-1 f-500",children:p("myAccount:orderDetailsTotalAmount.translation")}),(0,n.jsx)("td",{className:"align-middle f-18 f-500 muted border-0 pa-1 d-flex justify-content-between",children:(0,n.jsx)(l.$,{displayCurrency:!0,value:t.grandTotal})})]})]})})})]})]})})}},41190:function(e,s,a){a.d(s,{Z:function(){return b}});var r,t,n,l,d,i=a(47568),c=a(51438),o=a(26042),u=a(69396),m=a(20414),h=a(36911),x=a(36650),j=a(28520),p=a(8547),b=function e(){(0,c.Z)(this,e)};b.getOrderDetails=(r=(0,i.Z)(function(e){var s;return(0,m.__generator)(this,function(a){switch(a.label){case 0:return[4,(0,x.x1)().get("/v1/orders/".concat(e,"/details"))];case 1:return s=a.sent().data,[2,(0,h.nC)(s.result)]}})}),function(e){return r.apply(this,arguments)}),b.getPreviousOrders=(t=(0,i.Z)(function(e){var s,a;return(0,m.__generator)(this,function(s){switch(s.label){case 0:return[4,(0,x.x1)().get("/v1/pages/dashboard-orders/".concat(e))];case 1:return[2,(0,s.sent().data).result.orders.slice(0,3).map(h.Jw)]}})}),function(e){return t.apply(this,arguments)}),b.postReorder=(n=(0,i.Z)(function(e,s,a,r){var t,n;return(0,m.__generator)(this,function(l){switch(l.label){case 0:return[4,(0,x.x1)().post("/v2/cart/".concat(e,"/reorder"),s)];case 1:return t=l.sent().data,n=(0,j.jl)(t.result.cart,a,r),[2,(0,u.Z)((0,o.Z)({},t.result),{cart:n})]}})}),function(e,s,a,r){return n.apply(this,arguments)}),b.trackOrder=(l=(0,i.Z)(function(e){var s,a;return(0,m.__generator)(this,function(r){switch(r.label){case 0:return s=(0,p._g)().getState().config.trackOrderUrl,[4,(0,x.x1)(null,s).post("v1/track/trackOrder",{transId:e})];case 1:return a=r.sent().data,[2,(0,h.v5)(a)]}})}),function(e){return l.apply(this,arguments)}),b.getReorderDetails=(d=(0,i.Z)(function(e){var s;return(0,m.__generator)(this,function(s){switch(s.label){case 0:return[4,(0,x.x1)().post("/v2/orders/".concat(e.orderId,"/reorder"),e)];case 1:return[2,y(s.sent().data.result)]}})}),function(e){return d.apply(this,arguments)});var y=function(e){var s=e.rest,a=e.itms;if(s){for(var r=[],t=0;t<a.length;t++){var n,l=a[t],d=[];l.qty;for(var i=0;i<l.lic.length;i++){var c=l.lic[i];d.push({choiceId:c.ici,quantity:c.icq,subChoices:[]})}r.push({menuItemId:l.iid,quantity:l.qty,choices:d,specialRequest:null!==(n=l.specialRequest)&&void 0!==n?n:""})}return{branchId:e.rest.bid,items:r,hasChange:e.isOrderModified}}}}}]);